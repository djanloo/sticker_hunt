{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scribble Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4 sm:p-10">
    
    <div class="max-w-xl mx-auto">
        <h1 class="text-3xl font-bold mb-6 text-center text-gray-800"> Sticker {{scribble_info.id}} - {{scribble_info.name}}</h1>

        <!-- IMMAGINE CLASS class="w-50 h-50 rounded-xl mx-auto mb-2 -->
        <img src="{% static 'images/' %}{{scribble_info.image_name}}">
        <h1 class="text-2xl font-bold mb-6 mt-6 text-center text-gray-800">Lascia una scritta a caso</h1>

        <!-- Form -->
        <form method="post" class="mb-6 flex flex-col sm:flex-row gap-2">
            {% csrf_token %}
            <input name="scribble" placeholder="scritta onesta" class="p-2 border rounded flex-1">
            <input name="tag" placeholder="Anonimo" class="p-2 border rounded flex-1">
            <button class="bg-blue-600 text-white px-4 py-2 rounded mt-2 sm:mt-0 hover:bg-blue-700">Add</button>
        </form>
        <!-- <p>DEBUG image_name: {{ scribble_info.image_name }} </p>
        <p>DEBUG image_url: {{ scribble_info.image_url }} </p>
        <p>DEBUG image3: {% static scribble_info.image_path %} </p> -->
        <p> DEBUG {% static 'images/ponyo.png' %}</p>
        <h3 class="text-xl font-semibold mb-4 text-gray-700">Note di questo sticker:</h3>

        <!-- Lista scribbles stile chat -->
        <ul class="space-y-4">
            {% for scribble in scribbles %}
                <li class="relative bg-white rounded-xl p-3 shadow max-w-full sm:max-w-[90%]">
                    <!-- Tag in alto -->
                    <div class="text-sm text-gray-500 mb-1 font-semibold">{{ scribble.tag }}</div>
                    
                    <!-- Testo principale -->
                    <div class="break-words text-gray-900">{{ scribble.scribble }}</div>
                    
                    <!-- Data in basso a destra -->
                    <div class="text-xs text-gray-400 mt-1 text-right">{{ scribble.created_at|date:"d/m/Y H:i" }}</div>
                </li>
            {% endfor %}
        </ul>

    </div>
</body>
</html>